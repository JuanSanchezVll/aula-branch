<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prof. Alice</title>
</head>

<body>

    <h2>Cadastro de notas da Prof. Alice</h2>

    Informe o nome do Aluno: <input id="ipt_nomeAluno"><br>
    Informe a 1° nota do aluno: <input id="iptNota1" type="number"><br>
    Informe a 2° nota do aluno: <input id="iptNota2" type="number"><br>
    Informe a 3° nota do aluno: <input id="iptNota3" type="number"><br><br>
    Informe a meneira de listagem <select id="selLista">
        <option value="#"></option>
        <option value="1">Listagem de trás pra frente</option>
        <option value="2">Listagem de frente pra trás</option>
    </select><br>

    <h2>Botões</h2>
    <button onclick="listar()">Listar</button>
    <button onclick="aluno()">Aluno</button>
    <button onclick="cadastrar()">Cadastrar</button>
    <button onclick="media()">Média</button>
    <button onclick="notas()">Notas**</button><br><br>
    <div id="div_msg"></div>

</body>

</html>
<script>


    // FUNÇÃO DO JUAN

    var var_nome_aluno = {
        "nome": ``,
        "nota1": `0`,
        "nota2": `0`,
        "nota3": `0`,
    }

    var lista = []

    // var listaALUNO = []
    // listaALUNO.push(var_nome_aluno)

    function cadastrar() {


        var nomeAluno = ipt_nomeAluno.value;
        var nota1 = Number(iptNota1.value);
        var nota2 = Number(iptNota2.value);
        var nota3 = Number(iptNota3.value);

        var mensagem = '';

        if (ipt_nomeAluno.value == '' || ipt_nomeAluno.value.length < 9) {
            mensagem += `O campo nome do aluno não pode ser vazio e deve conter ao menos 9 caracteres<br>`
        }

        if (!(iptNota1.value >= 0)) {
            mensagem += `O campo nota 1 aceita somente valores numéricos e maior ou igual a zero<br>`
        }

        if (!(iptNota2.value >= 0)) {
            mensagem += `O campo nota 2 aceita somente valores numéricos e maior ou igual a zero<br>`
        }

        if (!(iptNota3.value >= 0)) {
            mensagem += `O campo nota 3 aceita somente valores numéricos e maior ou igual a zero<br>`
        }

        if (mensagem != '') {
            div_msg.innerHTML = mensagem

        } else {
            div_msg.innerHTML = '';

            var achou = false;

            for (var i = 0; i < lista.length; i++) {
                if (lista[i].nome == nomeAluno) {
                    achou = true;
                    alert('Já existe um aluno com este Cadastro!')
                    break;
                }

            }

            if (achou == false) {

                var_nome_aluno = {
                    "nome": `${nomeAluno}`,
                    "nota1": `${nota1}`,
                    "nota2": `${nota2}`,
                    "nota3": `${nota3}`,
                }

                lista.push(var_nome_aluno)

                alert('Aluno novo Cadastrado!')

            }

        }

    }



    function listar() {
        div.innerHTML = ''
        if (erro != true) {
            var lista = Number(selLista.value);

            if (lista == '') {
                alert("Informe um valor para listagem")
            }


            if (lista == 1) {
                for (let i = nomeV.length; i >= 0; i--) {
                    div.innerHTML += `<br>${nomeV[i - 1]}`
                }

            } if (lista == 2) {
                for (let i = 0; i < nomeV.length; i++) {
                    div.innerHTML += `<br>${nomeV[i]}`
                }
            }

        } else {
            alert("valores invalidos")
        }
    }
    function aluno() {
        div_msg.innerHTML = '';

        if (lista.length == 0) {
            alert("Nenhum aluno cadastrado ainda!");
            return;
        }

        var pesquisa = prompt("Informe o nome completo do Aluno para pesquisa:");

        if (!pesquisa) {
            div_msg.innerHTML = `Pesquisa cancelada.`;
            return;
        }

        var alunoEncontrado = null;

            for (var i = 0; i < lista.length; i++) {
            if (lista[i].nome.toLowerCase().includes(pesquisa.toLowerCase())) {
                alunoEncontrado = lista[i];
                break;
            }
        }

        if (alunoEncontrado) {
            var mediaFinal = (Number(alunoEncontrado.nota1) + Number(alunoEncontrado.nota2) + Number(alunoEncontrado.nota3)) / 3;

            div_msg.innerHTML = `
                <h3>Registro do Aluno: ${alunoEncontrado.nome}</h3>
                <ul>
                    <li>Nome: ${alunoEncontrado.nome}</li>
                    <li>Nota 1: ${alunoEncontrado.nota1}</li>
                    <li>Nota 2: ${alunoEncontrado.nota2}</li>
                    <li>Nota 3: ${alunoEncontrado.nota3}</li>
                    <li>Média Final: ${mediaFinal.toFixed(2)}</li>
                </ul>
            `;
        } else {
            div_msg.innerHTML = `Aluno "${pesquisa}" não encontrado nos registros.`;
        }
    }
</script>